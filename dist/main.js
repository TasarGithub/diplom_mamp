!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){var e=document.querySelectorAll('input[type ="checkbox"][required]');console.log("bugFixFocus formCheck: ",e),e.forEach((function(e){e.style.display="block",e.style.position="relative",e.style.left="70px",e.style.bottom="-15px",e.style.opacity=0}))},r=function(){var e=document.querySelectorAll('input[type="text"]'),t=document.querySelectorAll('input[type="tel"]');e.forEach((function(e){e.addEventListener("input",(function(){e.parentElement.classList.contains("price-message")||(e.value=e.value.replace(/[^а-яё\s]/gi,""))}))})),t.forEach((function(e){var t="+7 (___) ___-__-__",n=e;function o(e){var n=e.keyCode,o=t,r=o.replace(/\D/g,""),i=this.value.replace(/\D/g,""),c=0,l=o.replace(/[_\d]/g,(function(e){return c<i.length?i.charAt(c++)||r.charAt(c):e}));-1!=(c=l.indexOf("_"))&&(l=l.slice(0,c));var a=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(a=new RegExp("^"+a+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}n.addEventListener("input",o),n.addEventListener("focus",o),n.addEventListener("blur",o)}))},i=function(){var e=document.querySelector(".menu-button"),t=document.querySelector(".popup-menu"),n=t.querySelectorAll("li"),o=document.querySelector('img[src = "images/delete.png"]');e.addEventListener("click",(function(){document.documentElement.offsetWidth<768&&(t.style.display="block")})),t.addEventListener("click",(function(e){var r=e.target;r===o?t.style.display="none":void 0!==r.href?t.style.display="none":n.forEach((function(e){r===e&&(t.style.display="none")}))}))},c=function(){document.querySelectorAll(".popup").forEach((function(e){if("callback_form"===e.id||"free_visit_form"===e.id){var t,n=document.querySelector('[data-popup="#'.concat(e.id,'"]')),o=e.querySelector(".form-content"),r=e.querySelector("form"),i=.01;o.style.opacity=0,n.addEventListener("click",(function(){r.dataset.hasOwnProperty("flagNone")&&r.querySelectorAll("*").forEach((function(e){e.hasAttribute("style")&&"none"===e.style.display&&e.removeAttribute("style")})),e.style.display="block",t=requestAnimationFrame(l)}));var c=function(){e.style.display="none",o.style.opacity=0,i=.01,o.querySelectorAll("input").forEach((function(e){return e.value=""}));var n=o.querySelector(".status-message");n&&n.parentNode.removeChild(n),cancelAnimationFrame(t)};e.addEventListener("click",(function(e){var t=e.target;t.classList.contains("close-form")||t.classList.contains("close_icon")?c():(t=t.closest(".form-content"))||c()}));var l=function e(){t=requestAnimationFrame(e),i+=.01,o.style.opacity<=1?o.style.opacity=i:cancelAnimationFrame(t)}}}))},l=function(){var e=document.querySelectorAll("form"),t={errorMessage:"Что то не так ",loadMessage:"Загрузка",succesMessage:"Спасибо ! Скоро свяжемся с вами"},n=document.createElement("div"),o={};n.classList.add("status-message"),n.style.cssText="font-size: 2rem; color: #fff;",n.textContent=t.loadMessage,t.div=n,console.log("sendForm form: ",e);e.forEach((function(e){var r=e.parentElement,i=0;-1!==e.id.indexOf("popup")&&(i=1);var c=1;e.addEventListener("submit",(function(l){n.textContent=t.loadMessage,l.preventDefault(),r.style.opacity=1,c=1;var a=document.getElementById("thanks"),s=a.querySelector("p"),u=l.target,d=new FormData(e),f=0;if(d.forEach((function(e,r){"phone"!==r||18===e.length?(n.textContent=t.loadMessage,o[r]=e):f=1})),1===f)return n.textContent="Введите номер телефона полность","card_order"===e.id?n.style.cssText="font-size: 1rem; color: #000; textAlign: center;":n.style.cssText="font-size: 1rem; color: #fff;",void e.appendChild(t.div);1===i?n.style.cssText="font-size: 2rem; color: #fff;":n.textContent="";var p=function(){if(e.querySelectorAll("input").forEach((function(e){"text"===e.type||"tel"===e.type?e.value="":"checkbox"===e.type&&(e.checked=!1)})),1===i){e.dataset.flagNone=1,e.querySelectorAll("*").forEach((function(e){"INPUT"!==e.tagName&&"P"!==e.tagName&&"BUTTON"!==e.tagName||(e.style.display="none")})),function e(){var t=requestAnimationFrame(e);if(c-=.005,r.style.opacity>=0)r.style.opacity=c;else{var n=r.querySelector(".status-message");n&&n.parentNode.removeChild(n),cancelAnimationFrame(t),c=0}}();var t=u.closest(".popup");setTimeout((function(){t.style.display="none"}),5e3)}};1===i&&e.appendChild(t.div),function(e){return fetch("./server.php",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}(o).then((function(e){if(200!==e.status)throw new Error("Status network not 200");p(),1===i?t.div.textContent=t.succesMessage:a.style.display="block"})).catch((function(e){p(),1===i?t.div.textContent=t.errorMessage:(a.style.display="block",s.textContent=t.errorMessage),console.log("errorMessage: ",t.errorMessage),console.error(e)}))}))})),n.textContent=""},a=function(e){var t=document.querySelector(e),n=t.querySelectorAll(".slide"),o=0,r=0,i=document.createElement("ul");t.appendChild(i),i.classList.add("slider-dots");for(var c=0;c<n.length;c++){var l=document.createElement("li");i.appendChild(l),l.classList.add("dot"),0===c&&l.classList.add("dot-active")}var a=t.querySelectorAll(".dot"),s=function(e,t){return e===t.length?0:e<0?t.length-1:e};console.log(n.length);var u=function(e,t,n,o){e[n].style.display="none",t[n].classList.remove(o)},d=function(e,t,n,o){e[n].removeAttribute("style"),t[n].classList.add(o)},f=function(){u(n,a,o,"dot-active"),o=s(++o,n),d(n,a,o,"dot-active")},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;r=setInterval(f,e)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".dot")&&(u(n,a,o,"dot-active"),t.matches(".dot")&&a.forEach((function(e,n){e===t&&(o=n)})),o=s(o,n),d(n,a,o,"dot-active"))})),t.addEventListener("mouseover",(function(e){e.target.matches(".dot")&&clearInterval(r)})),t.addEventListener("mouseout",(function(e){e.target.matches(".dot")&&p(2e3)})),p(2e3)},s=function(){if("schelkovo"!==document.querySelector("html").id&&"mozaika"!==document.querySelector("html").id){var e=document.querySelector("#card_order"),t=document.querySelectorAll('input[name ="card-type"'),n=document.querySelector('input[placeholder="Промокод"]'),o=document.getElementById("price-total"),r=document.querySelectorAll('input[name ="club-name"'),i={1:1999,6:9900,9:13900,12:19900,122:9900},c={1:2999,6:14900,9:21900,12:24900,122:14900};console.log("calcForm: ",e),n.addEventListener("input",(function(){n.value=n.value.replace(/[^а-яё\d]/gi,"")}));e.addEventListener("change",(function(e){var n,l,a,s,u=e.target;u.matches("input")&&!u.matches("input[required]")&&(l="",a=1,s=document.querySelector(".price-message").children[0].value,r.forEach((function(e){e.checked&&e.id.indexOf("card_leto")>=0&&(l=e.value)})),t.forEach((function(e){e.checked&&(a=e.value)})),n="mozaika"===l?i[a]:c[a],"ТЕЛО2019"===s.toUpperCase()?o.textContent=Math.floor(.7*n):o.textContent=n)}))}},u=function(){var e=document.getElementById("thanks"),t=e.querySelector("p"),n=(document.querySelector("button"),function(){e.style.display="none",t.textContent="Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время."});e.addEventListener("click",(function(e){var t=e.target;t.classList.contains("close-form")||t.classList.contains("close_icon")||t.classList.contains("close-btn")?n():(t=t.closest(".form-content"))||n()}))},d=function(){var e=document.querySelector("body"),t=document.querySelector(".clubs-list"),n=document.querySelector("ul");e.addEventListener("click",(function(e){e.target.parentElement===t?n.style.display="block":n.style.display="none"}))},f=function(){var e=document.querySelector(".top-menu"),t=e.offsetTop;window.addEventListener("scroll",(function(){window.pageYOffset>=t?e.style.position="fixed":e.style.position="static"}))},p=function(){var e=document.querySelector(".fixed-gift"),t=document.getElementById("gift"),n=t.querySelector(".overlay"),o=document.querySelector("body");console.log("toggleGift document.querySelector(#services wrapper): ",document.querySelector("#services")),e.addEventListener("click",(function(e){t.style.display="block"})),o.addEventListener("click",(function(o){var r=o.target;(r.classList.contains("close-form")||r.classList.contains("close_icon")||r.classList.contains("close-btn")||r===n)&&(t.style.display="none",e.style.display="none")}))},y=function(){var e=document.getElementById("totop"),t=document.getElementById("clubs");e.style.opacity=0;var n=t.offsetTop;window.addEventListener("scroll",(function(){window.pageYOffset>=n?e.style.opacity=1:e.style.opacity=0}))};(function(){var e=document.querySelector("#services").querySelector("wrapper"),t=document.querySelector("services-slider"),n=document.querySelector(t).children,o={position:0,infinity:!1,widthSlide:Math.floor(20),maxPosition:n.length-5};e.style.cssText="overflow: hidden !important;",t.style.cssText="display: flex !important;\n        transition: transform 0.5s !important;\n        will-change: transform !important;";var r=!0,i=!1,c=void 0;try{for(var l,a=n[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){l.value.style.cssText="flex: 0 0 ".concat(o.widthSlide,"% !important;\n          margin: auto 0 !important;")}}catch(e){i=!0,c=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw c}}var s=document.createElement("div"),u=document.createElement("div"),d=document.createElement("button"),f=document.createElement("button");e.appendChild(s),e.appendChild(u),s.className=".slider-arrow",u.className=".slider-arrow",s.appendChild(d),u.appendChild(f),d.className=".slider-arrow span",f.className=".slider-arrow span",d.addEventListener("click",(function(){(o.infinity||o.position>0)&&(--o.position,console.log(o.position),o.position<0&&(o.position=o.maxPosition),t.style.transform="translateX(-".concat(o.position*o.widthSlide,"%)"))})),f.addEventListener("click",(function(){(o.infinity||o.position<o.maxPosition)&&(++o.position,console.log(o.position),o.position>o.maxPosition&&(o.position=0),t.style.transform="translateX(-".concat(o.position*o.widthSlide,"%)"))}))})(),y(),p(),f(),d(),u(),o(),r(),l(),c(),i(),a(".main-slider"),a(".gallery-slider"),s()}]);